{"version":3,"file":"index.js","names":["React","useCallback","useEffect","useState","PropTypes","classNames","BaseAlert","divWithClassName","useMediaQuery","Icon","breakpoints","Button","ActionRow","ALERT_CLOSE_LABEL_TEXT","Alert","forwardRef","ref","children","icon","actions","dismissible","onClose","closeLabel","stacked","props","isStacked","setIsStacked","isExtraSmall","maxWidth","extraSmall","actionButtonSize","cloneActionElement","Action","addtlActionProps","size","key","cloneElement","className","length","map","DivStyledAsH4","displayName","AlertHeading","AlertLink","commonPropTypes","as","elementType","bsPrefix","string","propTypes","defaultProps","node","func","show","bool","arrayOf","element","undefined","Heading","Link"],"sources":["../../src/Alert/index.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport BaseAlert from 'react-bootstrap/Alert';\nimport divWithClassName from 'react-bootstrap/divWithClassName';\nimport { useMediaQuery } from 'react-responsive';\nimport { Icon } from '..';\nimport breakpoints from '../utils/breakpoints';\nimport Button from '../Button';\nimport ActionRow from '../ActionRow';\n\nexport const ALERT_CLOSE_LABEL_TEXT = 'Dismiss';\n\nconst Alert = React.forwardRef(({\n  children,\n  icon,\n  actions,\n  dismissible,\n  onClose,\n  closeLabel,\n  stacked,\n  ...props\n}, ref) => {\n  const [isStacked, setIsStacked] = useState(stacked);\n  const isExtraSmall = useMediaQuery({ maxWidth: breakpoints.extraSmall.maxWidth });\n  const actionButtonSize = 'sm';\n\n  useEffect(() => {\n    if (isExtraSmall) {\n      setIsStacked(true);\n    } else {\n      setIsStacked(stacked);\n    }\n  }, [isExtraSmall, stacked]);\n\n  const cloneActionElement = useCallback(\n    (Action) => {\n      const addtlActionProps = { size: actionButtonSize, key: Action.props.children };\n      return React.cloneElement(Action, addtlActionProps);\n    },\n    [],\n  );\n\n  return (\n    <BaseAlert\n      {...props}\n      className={classNames('alert-content', props.className)}\n      ref={ref}\n    >\n      {icon && <Icon src={icon} className=\"alert-icon\" />}\n      <div\n        className={classNames({\n          'pgn__alert-message-wrapper': !isStacked,\n          'pgn__alert-message-wrapper-stacked': isStacked,\n        })}\n      >\n        <div className=\"alert-message-content\">\n          {children}\n        </div>\n        {(dismissible || actions?.length > 0) && (\n          <ActionRow className=\"pgn__alert-actions\">\n            <ActionRow.Spacer />\n            {dismissible && (\n              <Button\n                size={actionButtonSize}\n                variant=\"tertiary\"\n                onClick={onClose}\n              >\n                {closeLabel}\n              </Button>\n            )}\n            {actions && actions.map(cloneActionElement)}\n          </ActionRow>\n        )}\n      </div>\n    </BaseAlert>\n  );\n});\n\n// This is needed to display a default prop for Alert.Heading element\n// Copied from react-bootstrap since BaseAlert.Heading component doesn't have defaultProps,\n// so there seems to be no other way of providing correct default prop for base element\nconst DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\n\nconst AlertHeading = (props) => <BaseAlert.Heading {...props} />;\nconst AlertLink = (props) => <BaseAlert.Link {...props} />;\n\nconst commonPropTypes = {\n  /** Specifies the base element */\n  as: PropTypes.elementType,\n  /** Overrides underlying component base CSS class name */\n  bsPrefix: PropTypes.string,\n};\n\nAlertLink.propTypes = commonPropTypes;\nAlertHeading.propTypes = commonPropTypes;\n\nAlertLink.defaultProps = {\n  as: 'a',\n  bsPrefix: 'alert-link',\n};\n\nAlertHeading.defaultProps = {\n  as: DivStyledAsH4,\n  bsPrefix: 'alert-heading',\n};\n\nAlert.propTypes = {\n  ...BaseAlert.propTypes,\n  /** Docstring for the children prop */\n  children: PropTypes.node,\n  /** Docstring for the icon prop... Icon that will be shown in the alert */\n  icon: PropTypes.func,\n  /** Whether the alert is shown. */\n  show: PropTypes.bool,\n  /** Whether the alert is dismissible. Defaults to true. */\n  dismissible: PropTypes.bool,\n  /** Optional callback function for when the alert it dismissed. */\n  onClose: PropTypes.func,\n  /** Optional list of action elements. May include, at most, 2 actions, or 1 if dismissible is true. */\n  actions: PropTypes.arrayOf(PropTypes.element),\n  /** Position of the dismiss and call-to-action buttons. Defaults to ``false``. */\n  stacked: PropTypes.bool,\n  /** Sets the text for alert close button. */\n  closeLabel: PropTypes.string,\n};\n\nAlert.defaultProps = {\n  ...BaseAlert.defaultProps,\n  children: undefined,\n  icon: undefined,\n  actions: undefined,\n  dismissible: false,\n  onClose: () => {},\n  closeLabel: ALERT_CLOSE_LABEL_TEXT,\n  show: true,\n  stacked: false,\n};\n\nAlert.Heading = AlertHeading;\nAlert.Link = AlertLink;\n\nexport default Alert;\n"],"mappings":"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"}