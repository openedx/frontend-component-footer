{"version":3,"file":"CollapsibleAdvanced.js","names":["React","classNames","PropTypes","CollapsibleContext","createContext","CollapsibleAdvanced","props","setState","isOpen","onOpen","onToggle","onClose","state","close","open","undefined","defaultOpen","children","className","toggle","Component","propTypes","node","string","bool","func","defaultProps"],"sources":["../../src/Collapsible/CollapsibleAdvanced.jsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nexport const CollapsibleContext = React.createContext();\n\nclass CollapsibleAdvanced extends React.Component {\n  static getDerivedStateFromProps(props) {\n    if (props.open !== undefined) {\n      return {\n        // Since this method fires on both props and state changes, local updates\n        // to the controlled value will be ignored, because the props version\n        // always overrides it. In this case, this is exactly what we want.\n        isOpen: props.open,\n      };\n    }\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpen: props.open !== undefined ? props.open : props.defaultOpen,\n    };\n  }\n\n  open = () => {\n    this.setState({ isOpen: true });\n\n    if (this.props.onOpen) {\n      this.props.onOpen();\n    }\n    if (this.props.onToggle) {\n      this.props.onToggle(true);\n    }\n  }\n\n  close = () => {\n    this.setState({ isOpen: false });\n\n    if (this.props.onClose) {\n      this.props.onClose();\n    }\n    if (this.props.onToggle) {\n      this.props.onToggle(false);\n    }\n  }\n\n  toggle = () => {\n    if (this.state.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  render() {\n    const {\n      children,\n      className,\n      ...props\n    } = this.props;\n\n    // Unneeded for passthrough props\n    delete props.defaultOpen;\n    delete props.onToggle;\n    delete props.onOpen;\n    delete props.onClose;\n\n    return (\n      <div\n        {...props}\n        className={classNames('pgn_collapsible', className, {\n          'is-open': this.state.isOpen,\n        })}\n      >\n        <CollapsibleContext.Provider\n          value={{\n            isOpen: this.state.isOpen,\n            open: this.open,\n            close: this.close,\n            toggle: this.toggle,\n          }}\n        >\n          {children}\n        </CollapsibleContext.Provider>\n      </div>\n    );\n  }\n}\n\nCollapsibleAdvanced.propTypes = {\n  /** Specifies contents of the component. */\n  children: PropTypes.node,\n  /** Specifies classname to append to the base element. */\n  className: PropTypes.string,\n  /** Specifies whether `Collapsible` should be initially open. */\n  defaultOpen: PropTypes.bool,\n  /** Specifies whether `Collapsible` is open. */\n  open: PropTypes.bool,\n  /** Callback fired when `Collapsible's` state is toggled. */\n  onToggle: PropTypes.func,\n  /** Callback fired when `Collapsible` opens. */\n  onOpen: PropTypes.func,\n  /** Callback fired when `Collapsible` closes. */\n  onClose: PropTypes.func,\n};\n\nCollapsibleAdvanced.defaultProps = {\n  children: undefined,\n  className: undefined,\n  defaultOpen: false,\n  open: undefined,\n  onToggle: undefined,\n  onOpen: undefined,\n  onClose: undefined,\n};\n\nexport default CollapsibleAdvanced;\n"],"mappings":"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"}