{"version":3,"file":"DropdownFilter.js","names":["React","useRef","PropTypes","Form","newId","DEFAULT_VALUE","DropdownFilter","column","setFilter","Header","filterChoices","getHeaderProps","ariaLabel","key","onChange","e","target","value","undefined","current","map","name","number","propTypes","shape","func","isRequired","oneOfType","node","arrayOf","string"],"sources":["../../../src/DataTable/filters/DropdownFilter.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Form,\n} from '../..';\nimport { newId } from '../../utils';\n\nconst DEFAULT_VALUE = '';\n\nfunction DropdownFilter({\n  column: {\n    setFilter, Header, filterChoices, getHeaderProps,\n  },\n}) {\n  // creates a unique label that does not change on re-render in case there are multiple checkbox filters in the dom\n  const ariaLabel = useRef(newId(`dropdown-filter-label-${getHeaderProps().key}-`));\n  const onChange = (e) => {\n    if (e.target.value === DEFAULT_VALUE) {\n      // setting undefined resets the filter\n      return setFilter(undefined);\n    }\n    return setFilter(e.target.value);\n  };\n\n  return (\n    <Form.Group>\n      <Form.Label id={ariaLabel.current} className=\"sr-only\">{Header}</Form.Label>\n      <Form.Control\n        as=\"select\"\n        default={DEFAULT_VALUE}\n        onChange={onChange}\n        aria-labelledby={ariaLabel.current}\n      >\n        <option value={DEFAULT_VALUE}>{Header}</option>\n        {filterChoices.map(({ name, number, value }) => (<option key={value} value={value}>{name} {number && `(${number})`}</option>))}\n      </Form.Control>\n    </Form.Group>\n  );\n}\n\nDropdownFilter.propTypes = {\n  /**\n   * Specifies a column object.\n   *\n   * `setFilter`: Function to set the filter value.\n   *\n   * `Header`: Column header used for labels and placeholders.\n   *\n   * `filterChoices`: Specifies array of choices.\n   *\n   * `getHeaderProps`: Generates a key unique to the column being filtered.\n   */\n  column: PropTypes.shape({\n    setFilter: PropTypes.func.isRequired,\n    Header: PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n    filterChoices: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      number: PropTypes.number,\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    })).isRequired,\n    getHeaderProps: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default DropdownFilter;\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SACEC,IADF,QAEO,OAFP;AAGA,SAASC,KAAT,QAAsB,aAAtB;AAEA,IAAMC,aAAa,GAAG,EAAtB;;AAEA,SAASC,cAAT,OAIG;EAAA,uBAHDC,MAGC;EAAA,IAFCC,SAED,eAFCA,SAED;EAAA,IAFYC,MAEZ,eAFYA,MAEZ;EAAA,IAFoBC,aAEpB,eAFoBA,aAEpB;EAAA,IAFmCC,cAEnC,eAFmCA,cAEnC;EACD;EACA,IAAMC,SAAS,GAAGX,MAAM,CAACG,KAAK,iCAA0BO,cAAc,GAAGE,GAA3C,OAAN,CAAxB;;EACA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,CAAD,EAAO;IACtB,IAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,KAAmBZ,aAAvB,EAAsC;MACpC;MACA,OAAOG,SAAS,CAACU,SAAD,CAAhB;IACD;;IACD,OAAOV,SAAS,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB;EACD,CAND;;EAQA,oBACE,oBAAC,IAAD,CAAM,KAAN,qBACE,oBAAC,IAAD,CAAM,KAAN;IAAY,EAAE,EAAEL,SAAS,CAACO,OAA1B;IAAmC,SAAS,EAAC;EAA7C,GAAwDV,MAAxD,CADF,eAEE,oBAAC,IAAD,CAAM,OAAN;IACE,EAAE,EAAC,QADL;IAEE,OAAO,EAAEJ,aAFX;IAGE,QAAQ,EAAES,QAHZ;IAIE,mBAAiBF,SAAS,CAACO;EAJ7B,gBAME;IAAQ,KAAK,EAAEd;EAAf,GAA+BI,MAA/B,CANF,EAOGC,aAAa,CAACU,GAAd,CAAkB;IAAA,IAAGC,IAAH,SAAGA,IAAH;IAAA,IAASC,MAAT,SAASA,MAAT;IAAA,IAAiBL,KAAjB,SAAiBA,KAAjB;IAAA,oBAA8B;MAAQ,GAAG,EAAEA,KAAb;MAAoB,KAAK,EAAEA;IAA3B,GAAmCI,IAAnC,OAA0CC,MAAM,eAAQA,MAAR,MAAhD,CAA9B;EAAA,CAAlB,CAPH,CAFF,CADF;AAcD;;AAEDhB,cAAc,CAACiB,SAAf,GAA2B;EACzB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEhB,MAAM,EAAEL,SAAS,CAACsB,KAAV,CAAgB;IACtBhB,SAAS,EAAEN,SAAS,CAACuB,IAAV,CAAeC,UADJ;IAEtBjB,MAAM,EAAEP,SAAS,CAACyB,SAAV,CAAoB,CAACzB,SAAS,CAACuB,IAAX,EAAiBvB,SAAS,CAAC0B,IAA3B,CAApB,EAAsDF,UAFxC;IAGtBhB,aAAa,EAAER,SAAS,CAAC2B,OAAV,CAAkB3B,SAAS,CAACsB,KAAV,CAAgB;MAC/CH,IAAI,EAAEnB,SAAS,CAAC4B,MAAV,CAAiBJ,UADwB;MAE/CJ,MAAM,EAAEpB,SAAS,CAACoB,MAF6B;MAG/CL,KAAK,EAAEf,SAAS,CAACyB,SAAV,CAAoB,CAACzB,SAAS,CAAC4B,MAAX,EAAmB5B,SAAS,CAACoB,MAA7B,CAApB,EAA0DI;IAHlB,CAAhB,CAAlB,EAIXA,UAPkB;IAQtBf,cAAc,EAAET,SAAS,CAACuB,IAAV,CAAeC;EART,CAAhB,EASLA;AArBsB,CAA3B;AAwBA,eAAepB,cAAf"}