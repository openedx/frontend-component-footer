{"version":3,"file":"MultiSelectDropdownFilter.js","names":["React","useRef","useMemo","PropTypes","DropdownButton","Badge","newId","LabelledCheckbox","MultiSelectDropdownFilter","column","setFilter","Header","filterChoices","getHeaderProps","filterValue","ariaLabel","key","checkedBoxes","changeCheckbox","value","includes","newCheckedBoxes","filter","val","push","headerBasedId","current","map","name","number","propTypes","shape","func","isRequired","oneOfType","node","arrayOf","string"],"sources":["../../../src/DataTable/filters/MultiSelectDropdownFilter.jsx"],"sourcesContent":["import React, { useRef, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  DropdownButton,\n  Badge,\n} from '../..';\nimport { newId } from '../../utils';\nimport LabelledCheckbox from './LabelledCheckbox';\n\nfunction MultiSelectDropdownFilter({\n  column: {\n    setFilter, Header, filterChoices, getHeaderProps, filterValue,\n  },\n}) {\n  // creates a unique label that does not change on re-render in case there are multiple checkbox filters in the dom\n  const ariaLabel = useRef(newId(`multi-dropdown-filter-label-${getHeaderProps().key}-`));\n  const checkedBoxes = filterValue || [];\n  const changeCheckbox = (value) => {\n    if (checkedBoxes.includes(value)) {\n      const newCheckedBoxes = checkedBoxes.filter((val) => val !== value);\n      return setFilter(newCheckedBoxes);\n    }\n    checkedBoxes.push(value);\n    return setFilter(checkedBoxes);\n  };\n  const headerBasedId = useMemo(() => `checkbox-filter-check-${getHeaderProps().key}-`, [getHeaderProps]);\n  return (\n    <DropdownButton variant=\"outline-primary\" id={ariaLabel.current} title={Header}>\n      <div role=\"group\" aria-label={Header} className=\"pgn__dropdown-filter-checkbox-group\">\n        {filterChoices.map(({ name, number, value }) => (\n          <LabelledCheckbox\n            key={name}\n            id={headerBasedId}\n            checked={checkedBoxes.includes(value)}\n            onChange={() => { changeCheckbox(value); }}\n            label={<>{name} {number && <Badge variant=\"light\">{number}</Badge>}</>}\n          />\n        ))}\n      </div>\n    </DropdownButton>\n  );\n}\n\nMultiSelectDropdownFilter.propTypes = {\n  /**\n   * Specifies a column object.\n   *\n   * `setFilter`: Function to set the filter value.\n   *\n   * `Header`: Column header used for labels and placeholders.\n   *\n   * `filterChoices`: Specifies array of choices.\n   *\n   * `getHeaderProps`: Generates a key unique to the column being filtered.\n   *\n   * `filterValue`: Value for the filter input.\n   */\n  column: PropTypes.shape({\n    /** Function to set the filter value */\n    setFilter: PropTypes.func.isRequired,\n    /** Column header used for labels and placeholders */\n    Header: PropTypes.oneOfType([PropTypes.func, PropTypes.node]).isRequired,\n    /** Names and values for the select options */\n    filterChoices: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      number: PropTypes.number,\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    })).isRequired,\n    /** Generates a key unique to the column being filtered */\n    getHeaderProps: PropTypes.func.isRequired,\n    filterValue: PropTypes.string,\n  }).isRequired,\n};\n\nexport default MultiSelectDropdownFilter;\n"],"mappings":"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"}