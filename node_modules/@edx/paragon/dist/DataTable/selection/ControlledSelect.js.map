{"version":3,"file":"ControlledSelect.js","names":["React","useContext","useCallback","PropTypes","CheckboxControl","DataTableContext","useConvertIndeterminateProp","deleteSelectedRowAction","addSelectedRowAction","ControlledSelect","row","itemCount","controlledTableSelections","dispatch","toggleSelected","isSelected","id","updatedProps","getToggleRowSelectedProps","propTypes","shape","oneOfType","string","number","isRequired","func","bool"],"sources":["../../../src/DataTable/selection/ControlledSelect.jsx"],"sourcesContent":["import React, { useContext, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { CheckboxControl } from '../../Form';\nimport DataTableContext from '../DataTableContext';\nimport useConvertIndeterminateProp from '../utils/useConvertIndeterminateProp';\n\nimport {\n  deleteSelectedRowAction,\n  addSelectedRowAction,\n} from './data/actions';\n\nconst ControlledSelect = ({ row }) => {\n  const {\n    itemCount,\n    controlledTableSelections: [, dispatch],\n  } = useContext(DataTableContext);\n\n  const toggleSelected = useCallback(\n    () => {\n      if (row.isSelected) {\n        dispatch(deleteSelectedRowAction(row.id));\n      } else {\n        dispatch(addSelectedRowAction(row, itemCount));\n      }\n    },\n    [itemCount, row, dispatch],\n  );\n\n  const updatedProps = useConvertIndeterminateProp(row.getToggleRowSelectedProps());\n\n  return (\n    <div className=\"d-flex align-content-center p-1\">\n      <CheckboxControl\n        {...updatedProps}\n        onChange={toggleSelected}\n      />\n    </div>\n  );\n};\n\nControlledSelect.propTypes = {\n  row: PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    getToggleRowSelectedProps: PropTypes.func.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n\nexport default ControlledSelect;\n"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,WAA5B,QAA+C,OAA/C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,eAAT,QAAgC,YAAhC;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AACA,OAAOC,2BAAP,MAAwC,sCAAxC;AAEA,SACEC,uBADF,EAEEC,oBAFF,QAGO,gBAHP;;AAKA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAa;EAAA,IAAVC,GAAU,QAAVA,GAAU;;EACpC,kBAGIT,UAAU,CAACI,gBAAD,CAHd;EAAA,IACEM,SADF,eACEA,SADF;EAAA,uDAEEC,yBAFF;EAAA,IAEgCC,QAFhC;;EAKA,IAAMC,cAAc,GAAGZ,WAAW,CAChC,YAAM;IACJ,IAAIQ,GAAG,CAACK,UAAR,EAAoB;MAClBF,QAAQ,CAACN,uBAAuB,CAACG,GAAG,CAACM,EAAL,CAAxB,CAAR;IACD,CAFD,MAEO;MACLH,QAAQ,CAACL,oBAAoB,CAACE,GAAD,EAAMC,SAAN,CAArB,CAAR;IACD;EACF,CAP+B,EAQhC,CAACA,SAAD,EAAYD,GAAZ,EAAiBG,QAAjB,CARgC,CAAlC;EAWA,IAAMI,YAAY,GAAGX,2BAA2B,CAACI,GAAG,CAACQ,yBAAJ,EAAD,CAAhD;EAEA,oBACE;IAAK,SAAS,EAAC;EAAf,gBACE,oBAAC,eAAD,eACMD,YADN;IAEE,QAAQ,EAAEH;EAFZ,GADF,CADF;AAQD,CA3BD;;AA6BAL,gBAAgB,CAACU,SAAjB,GAA6B;EAC3BT,GAAG,EAAEP,SAAS,CAACiB,KAAV,CAAgB;IACnBJ,EAAE,EAAEb,SAAS,CAACkB,SAAV,CAAoB,CAAClB,SAAS,CAACmB,MAAX,EAAmBnB,SAAS,CAACoB,MAA7B,CAApB,EAA0DC,UAD3C;IAEnBN,yBAAyB,EAAEf,SAAS,CAACsB,IAAV,CAAeD,UAFvB;IAGnBT,UAAU,EAAEZ,SAAS,CAACuB,IAAV,CAAeF;EAHR,CAAhB,EAIFA;AALwB,CAA7B;AAQA,eAAef,gBAAf"}