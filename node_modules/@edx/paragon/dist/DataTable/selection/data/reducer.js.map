{"version":3,"file":"reducer.js","names":["uniqBy","SET_SELECTED_ROWS","DELETE_ROW","ADD_ROW","CLEAR_SELECTION","CLEAR_PAGE_SELECTION","SET_SELECT_ALL_ROWS_ALL_PAGES","initialState","selectedRows","isEntireTableSelected","selectionsReducer","state","action","type","rows","row","id","updatedState","length","itemCount","filter","rowId","rowIds","includes"],"sources":["../../../../src/DataTable/selection/data/reducer.js"],"sourcesContent":["import uniqBy from 'lodash.uniqby';\nimport {\n  SET_SELECTED_ROWS,\n  DELETE_ROW,\n  ADD_ROW,\n  CLEAR_SELECTION,\n  CLEAR_PAGE_SELECTION,\n  SET_SELECT_ALL_ROWS_ALL_PAGES,\n} from './actions';\n\nexport const initialState = {\n  selectedRows: [],\n  isEntireTableSelected: false,\n};\n\nconst selectionsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_SELECTED_ROWS: {\n      const selectedRows = uniqBy([...state.selectedRows, ...action.rows], row => row.id);\n      const updatedState = {\n        ...state,\n        selectedRows,\n      };\n      if (selectedRows.length === action.itemCount) {\n        updatedState.isEntireTableSelected = true;\n      }\n      return updatedState;\n    }\n    case SET_SELECT_ALL_ROWS_ALL_PAGES:\n      return {\n        ...state,\n        isEntireTableSelected: true,\n      };\n    case DELETE_ROW:\n      return {\n        selectedRows: state.selectedRows.filter((row) => row.id !== action.rowId),\n        isEntireTableSelected: false,\n      };\n    case ADD_ROW: {\n      const selectedRows = uniqBy([...state.selectedRows, action.row], row => row.id);\n      const isEntireTableSelected = selectedRows.length === action.itemCount;\n      return {\n        selectedRows,\n        isEntireTableSelected,\n      };\n    }\n    case CLEAR_SELECTION:\n      return initialState;\n    case CLEAR_PAGE_SELECTION:\n      return {\n        isEntireTableSelected: false,\n        selectedRows: state.selectedRows.filter(row => !action.rowIds.includes(row.id)),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default selectionsReducer;\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,eAAnB;AACA,SACEC,iBADF,EAEEC,UAFF,EAGEC,OAHF,EAIEC,eAJF,EAKEC,oBALF,EAMEC,6BANF,QAOO,WAPP;AASA,OAAO,IAAMC,YAAY,GAAG;EAC1BC,YAAY,EAAE,EADY;EAE1BC,qBAAqB,EAAE;AAFG,CAArB;;AAKP,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAkC;EAAA,IAAjCC,KAAiC,uEAAzBJ,YAAyB;EAAA,IAAXK,MAAW;;EAC1D,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKZ,iBAAL;MAAwB;QACtB,IAAMO,YAAY,GAAGR,MAAM,8BAAKW,KAAK,CAACH,YAAX,sBAA4BI,MAAM,CAACE,IAAnC,IAA0C,UAAAC,GAAG;UAAA,OAAIA,GAAG,CAACC,EAAR;QAAA,CAA7C,CAA3B;;QACA,IAAMC,YAAY,mCACbN,KADa;UAEhBH,YAAY,EAAZA;QAFgB,EAAlB;;QAIA,IAAIA,YAAY,CAACU,MAAb,KAAwBN,MAAM,CAACO,SAAnC,EAA8C;UAC5CF,YAAY,CAACR,qBAAb,GAAqC,IAArC;QACD;;QACD,OAAOQ,YAAP;MACD;;IACD,KAAKX,6BAAL;MACE,uCACKK,KADL;QAEEF,qBAAqB,EAAE;MAFzB;;IAIF,KAAKP,UAAL;MACE,OAAO;QACLM,YAAY,EAAEG,KAAK,CAACH,YAAN,CAAmBY,MAAnB,CAA0B,UAACL,GAAD;UAAA,OAASA,GAAG,CAACC,EAAJ,KAAWJ,MAAM,CAACS,KAA3B;QAAA,CAA1B,CADT;QAELZ,qBAAqB,EAAE;MAFlB,CAAP;;IAIF,KAAKN,OAAL;MAAc;QACZ,IAAMK,aAAY,GAAGR,MAAM,8BAAKW,KAAK,CAACH,YAAX,IAAyBI,MAAM,CAACG,GAAhC,IAAsC,UAAAA,GAAG;UAAA,OAAIA,GAAG,CAACC,EAAR;QAAA,CAAzC,CAA3B;;QACA,IAAMP,qBAAqB,GAAGD,aAAY,CAACU,MAAb,KAAwBN,MAAM,CAACO,SAA7D;QACA,OAAO;UACLX,YAAY,EAAZA,aADK;UAELC,qBAAqB,EAArBA;QAFK,CAAP;MAID;;IACD,KAAKL,eAAL;MACE,OAAOG,YAAP;;IACF,KAAKF,oBAAL;MACE,OAAO;QACLI,qBAAqB,EAAE,KADlB;QAELD,YAAY,EAAEG,KAAK,CAACH,YAAN,CAAmBY,MAAnB,CAA0B,UAAAL,GAAG;UAAA,OAAI,CAACH,MAAM,CAACU,MAAP,CAAcC,QAAd,CAAuBR,GAAG,CAACC,EAA3B,CAAL;QAAA,CAA7B;MAFT,CAAP;;IAIF;MACE,OAAOL,KAAP;EAtCJ;AAwCD,CAzCD;;AA2CA,eAAeD,iBAAf"}