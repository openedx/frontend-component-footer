{"version":3,"file":"index.js","names":["React","PropTypes","BaseDropdown","DropdownMenu","DropdownItem","BaseDropdownToggle","DropdownDeprecated","IconButton","Button","Dropdown","forwardRef","ref","show","autoClose","onToggle","rest","useState","internalShow","setInternalShow","isClosingPermitted","source","handleToggle","isOpen","event","metadata","currentTarget","document","key","DropdownToggle","as","bsPrefix","otherProps","prefix","propTypes","func","oneOfType","string","bool","defaultProps","undefined","elementType","id","number","isRequired","Deprecated","Toggle","Menu","Item","Header","Divider","default","DropdownButton","SplitButton"],"sources":["../../src/Dropdown/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport BaseDropdown from 'react-bootstrap/Dropdown';\nimport DropdownMenu from 'react-bootstrap/DropdownMenu';\nimport DropdownItem from 'react-bootstrap/DropdownItem';\nimport BaseDropdownToggle from 'react-bootstrap/DropdownToggle';\nimport DropdownDeprecated from './deprecated';\nimport { IconButton, Button } from '..';\n\nconst Dropdown = React.forwardRef(\n  // eslint-disable-next-line prefer-arrow-callback\n  function Dropdown({\n    show,\n    autoClose,\n    onToggle,\n    ...rest\n  }, ref) {\n    const [internalShow, setInternalShow] = React.useState(show);\n    const isClosingPermitted = (source) => {\n      // autoClose=false only permits close on button click\n      if (autoClose === false) {\n        return source === 'click';\n      }\n      // autoClose=inside doesn't permit close on rootClose\n      if (autoClose === 'inside') {\n        return source !== 'rootClose';\n      }\n      // autoClose=outside doesn't permit close on select\n      if (autoClose === 'outside') {\n        return source !== 'select';\n      }\n      return true;\n    };\n\n    const handleToggle = (isOpen, event, metadata) => {\n      if (isOpen) {\n        setInternalShow(true);\n        return;\n      }\n      let { source } = { ...metadata };\n\n      if (event.currentTarget === document && (source !== 'keydown' || event.key === 'Escape')) {\n        source = 'rootClose';\n      }\n      if (isClosingPermitted(source)) {\n        setInternalShow(false);\n        onToggle?.(isOpen, event, metadata);\n      }\n    };\n\n    return <BaseDropdown show={internalShow} onToggle={handleToggle} {...rest} ref={ref} data-testid=\"dropdown\" />;\n  },\n);\n\nconst DropdownToggle = React.forwardRef(\n  // eslint-disable-next-line prefer-arrow-callback\n  function DropdownToggle({\n    as,\n    bsPrefix,\n    ...otherProps\n  }, ref) {\n    // hide arrow from the toggle if it is rendered as IconButton\n    // because it hinders the positioning of IconButton\n    const prefix = as === IconButton ? 'pgn__dropdown-toggle-iconbutton' : bsPrefix;\n    return <BaseDropdownToggle {...otherProps} as={as} bsPrefix={prefix} ref={ref} />;\n  },\n);\n\nDropdown.propTypes = {\n  onToggle: PropTypes.func,\n  autoClose: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n  ]),\n  show: PropTypes.bool,\n};\n\nDropdown.defaultProps = {\n  onToggle: undefined,\n  autoClose: true,\n  show: false,\n};\n\nDropdownToggle.propTypes = {\n  /** Specifies the base element. */\n  as: PropTypes.elementType,\n  /** Overrides underlying component base CSS class name. */\n  bsPrefix: PropTypes.string,\n  /** An html id attribute, necessary for assistive technologies, such as screen readers. */\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n};\n\nDropdownToggle.defaultProps = {\n  as: Button,\n  bsPrefix: 'dropdown-toggle',\n};\n\nDropdown.Deprecated = DropdownDeprecated;\nDropdown.Toggle = DropdownToggle;\nDropdown.Menu = DropdownMenu;\nDropdown.Item = DropdownItem;\nDropdown.Header = BaseDropdown.Header;\nDropdown.Divider = BaseDropdown.Divider;\n\nexport default Dropdown;\nexport { DropdownToggle };\nexport { default as DropdownButton } from 'react-bootstrap/DropdownButton';\nexport { default as SplitButton } from 'react-bootstrap/SplitButton';\n"],"mappings":"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"}