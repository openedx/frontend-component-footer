{"version":3,"file":"index.js","names":["React","PropTypes","classNames","newId","ValidationMessage","Variant","inputProps","legend","oneOfType","string","element","isRequired","children","node","className","id","isValid","bool","invalidMessage","variant","shape","status","oneOf","Object","keys","map","k","variantIconDescription","defaultProps","undefined","INFO","Fieldset","props","state","errorId","getVariantClassName","nextProps","prevState","Component","propTypes"],"sources":["../../src/Fieldset/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport newId from '../utils/newId';\n\nimport ValidationMessage from '../ValidationMessage/index';\nimport Variant from '../utils/constants';\n\nconst inputProps = {\n  legend: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n\n  children: PropTypes.node,\n  className: PropTypes.string,\n  id: PropTypes.string,\n  isValid: PropTypes.bool,\n  invalidMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  variant: PropTypes.shape({\n    status: PropTypes.oneOf(Object.keys(Variant.status).map(k => Variant.status[k])),\n  }),\n  variantIconDescription: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nconst defaultProps = {\n  children: null,\n  className: undefined,\n  id: '',\n  isValid: true,\n  invalidMessage: '',\n  variant: {\n    status: Variant.status.INFO,\n  },\n  variantIconDescription: '',\n};\n\nclass Fieldset extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { id: props.id || newId('fieldset') };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.id !== prevState.id) {\n      return { id: nextProps.id || newId('fieldset') };\n    }\n\n    return null;\n  }\n\n  getVariantClassName() {\n    const { variant } = this.props;\n    let className;\n\n    switch (variant.status) {\n      case Variant.status.INFO:\n        className = 'is-invalid-nodanger';\n        break;\n      default:\n        break;\n    }\n\n    return className;\n  }\n\n  render() {\n    const {\n      className,\n      children,\n      variantIconDescription,\n      invalidMessage,\n      isValid,\n      legend,\n      variant,\n    } = this.props;\n    const errorId = `error-${this.state.id}`;\n    return (\n      <div className=\"paragon-fieldset\">\n        <fieldset\n          className={classNames(\n            'form-control',\n            'p-3',\n            { 'is-invalid': !isValid },\n            this.getVariantClassName(),\n            className,\n          )}\n          aria-describedby={errorId}\n        >\n          <legend className=\"p-1\">{legend}</legend>\n          {children}\n        </fieldset>\n        <ValidationMessage\n          id={errorId}\n          isValid={isValid}\n          invalidMessage={invalidMessage}\n          variant={variant}\n          variantIconDescription={variantIconDescription}\n        />\n      </div>\n    );\n  }\n}\n\nFieldset.propTypes = inputProps;\nFieldset.defaultProps = defaultProps;\n\nexport default Fieldset;\n"],"mappings":"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"}