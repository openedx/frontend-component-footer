{"version":3,"file":"FormSwitch.js","names":["React","PropTypes","classNames","FormCheckbox","useFormGroupContext","SwitchControl","forwardRef","ref","isIndeterminate","props","defaultRef","useRef","resolvedRef","getControlProps","checkboxProps","className","useEffect","current","indeterminate","propTypes","bool","string","defaultProps","undefined","FormSwitch","children","helperText","node","isRequired","labelClassName","floatLabelLeft"],"sources":["../../src/Form/FormSwitch.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport FormCheckbox from './FormCheckbox';\nimport { useFormGroupContext } from './FormGroupContext';\n\nconst SwitchControl = React.forwardRef(\n  ({ isIndeterminate, ...props }, ref) => {\n    const defaultRef = React.useRef();\n    const resolvedRef = ref || defaultRef;\n    const { getControlProps } = useFormGroupContext();\n    const checkboxProps = getControlProps({\n      ...props,\n      className: classNames(\n        'pgn__form-switch-input',\n        props.className,\n      ),\n    });\n\n    React.useEffect(() => {\n      // this if(resolvedRef.current) prevents console errors in testing\n      if (resolvedRef.current) {\n        resolvedRef.current.indeterminate = isIndeterminate;\n      }\n    }, [resolvedRef, isIndeterminate]);\n\n    return (\n      <input\n        type=\"checkbox\"\n        {...checkboxProps}\n        ref={resolvedRef}\n      />\n    );\n  },\n);\n\nSwitchControl.propTypes = {\n  /** Specifies whether input should be rendered in indeterminate state. */\n  isIndeterminate: PropTypes.bool,\n  /** Specifies class name to append to the base element. */\n  className: PropTypes.string,\n};\n\nSwitchControl.defaultProps = {\n  isIndeterminate: false,\n  className: undefined,\n};\n\nconst FormSwitch = React.forwardRef(({\n  children,\n  className,\n  helperText,\n  ...props\n}, ref) => (\n  <div className=\"d-inline-flex flex-column\">\n    <FormCheckbox\n      className={classNames('pgn__form-switch', className)}\n      {...props}\n      role=\"switch\"\n      ref={ref}\n      controlAs={SwitchControl}\n      // ignore the following props for form switch\n      isValid={null}\n      isInvalid={null}\n      description={null}\n    >\n      {children}\n    </FormCheckbox>\n    {helperText && (\n      <div className=\"pgn__form-switch-helper-text\">\n        {helperText}\n      </div>\n    )}\n  </div>\n));\n\nFormSwitch.propTypes = {\n  /** Specifies contents of the component. */\n  children: PropTypes.node.isRequired,\n  /** Specifies class name to append to the base element. */\n  className: PropTypes.string,\n  labelClassName: PropTypes.string,\n  helperText: PropTypes.node,\n  floatLabelLeft: PropTypes.bool,\n};\n\nFormSwitch.defaultProps = {\n  className: undefined,\n  labelClassName: undefined,\n  helperText: undefined,\n  floatLabelLeft: false,\n};\n\nexport { SwitchControl };\nexport default FormSwitch;\n"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,mBAAT,QAAoC,oBAApC;AAEA,IAAMC,aAAa,gBAAGL,KAAK,CAACM,UAAN,CACpB,gBAAgCC,GAAhC,EAAwC;EAAA,IAArCC,eAAqC,QAArCA,eAAqC;EAAA,IAAjBC,KAAiB;;EACtC,IAAMC,UAAU,GAAGV,KAAK,CAACW,MAAN,EAAnB;EACA,IAAMC,WAAW,GAAGL,GAAG,IAAIG,UAA3B;;EACA,2BAA4BN,mBAAmB,EAA/C;EAAA,IAAQS,eAAR,wBAAQA,eAAR;;EACA,IAAMC,aAAa,GAAGD,eAAe,iCAChCJ,KADgC;IAEnCM,SAAS,EAAEb,UAAU,CACnB,wBADmB,EAEnBO,KAAK,CAACM,SAFa;EAFc,GAArC;EAQAf,KAAK,CAACgB,SAAN,CAAgB,YAAM;IACpB;IACA,IAAIJ,WAAW,CAACK,OAAhB,EAAyB;MACvBL,WAAW,CAACK,OAAZ,CAAoBC,aAApB,GAAoCV,eAApC;IACD;EACF,CALD,EAKG,CAACI,WAAD,EAAcJ,eAAd,CALH;EAOA,oBACE;IACE,IAAI,EAAC;EADP,GAEMM,aAFN;IAGE,GAAG,EAAEF;EAHP,GADF;AAOD,CA3BmB,CAAtB;AA8BAP,aAAa,CAACc,SAAd,GAA0B;EACxB;EACAX,eAAe,EAAEP,SAAS,CAACmB,IAFH;;EAGxB;EACAL,SAAS,EAAEd,SAAS,CAACoB;AAJG,CAA1B;AAOAhB,aAAa,CAACiB,YAAd,GAA6B;EAC3Bd,eAAe,EAAE,KADU;EAE3BO,SAAS,EAAEQ;AAFgB,CAA7B;AAKA,IAAMC,UAAU,gBAAGxB,KAAK,CAACM,UAAN,CAAiB,iBAKjCC,GALiC;EAAA,IAClCkB,QADkC,SAClCA,QADkC;EAAA,IAElCV,SAFkC,SAElCA,SAFkC;EAAA,IAGlCW,UAHkC,SAGlCA,UAHkC;EAAA,IAI/BjB,KAJ+B;;EAAA,oBAMlC;IAAK,SAAS,EAAC;EAAf,gBACE,oBAAC,YAAD;IACE,SAAS,EAAEP,UAAU,CAAC,kBAAD,EAAqBa,SAArB;EADvB,GAEMN,KAFN;IAGE,IAAI,EAAC,QAHP;IAIE,GAAG,EAAEF,GAJP;IAKE,SAAS,EAAEF,aALb,CAME;IANF;IAOE,OAAO,EAAE,IAPX;IAQE,SAAS,EAAE,IARb;IASE,WAAW,EAAE;EATf,IAWGoB,QAXH,CADF,EAcGC,UAAU,iBACT;IAAK,SAAS,EAAC;EAAf,GACGA,UADH,CAfJ,CANkC;AAAA,CAAjB,CAAnB;AA4BAF,UAAU,CAACL,SAAX,GAAuB;EACrB;EACAM,QAAQ,EAAExB,SAAS,CAAC0B,IAAV,CAAeC,UAFJ;;EAGrB;EACAb,SAAS,EAAEd,SAAS,CAACoB,MAJA;EAKrBQ,cAAc,EAAE5B,SAAS,CAACoB,MALL;EAMrBK,UAAU,EAAEzB,SAAS,CAAC0B,IAND;EAOrBG,cAAc,EAAE7B,SAAS,CAACmB;AAPL,CAAvB;AAUAI,UAAU,CAACF,YAAX,GAA0B;EACxBP,SAAS,EAAEQ,SADa;EAExBM,cAAc,EAAEN,SAFQ;EAGxBG,UAAU,EAAEH,SAHY;EAIxBO,cAAc,EAAE;AAJQ,CAA1B;AAOA,SAASzB,aAAT;AACA,eAAemB,UAAf"}