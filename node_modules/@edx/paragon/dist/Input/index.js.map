{"version":3,"file":"index.js","names":["React","classNames","PropTypes","Input","process","env","NODE_ENV","checkHasLabel","type","props","forwardedRef","element","current","inputEl","labels","length","getAttribute","console","warn","options","map","option","value","label","group","attributes","renderOptions","className","htmlTag","getHTMLTagForType","htmlProps","getClassNameForType","undefined","ref","setRef","htmlChildren","createElement","Component","propTypes","oneOf","isRequired","string","arrayOf","shape","oneOfType","number","disabled","bool","defaultProps","InputWithRefForwarding","forwardRef"],"sources":["../../src/Input/index.jsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nclass Input extends React.Component {\n  componentDidMount() {\n    if (process.env.NODE_ENV === 'development') {\n      this.checkHasLabel();\n    }\n  }\n\n  getHTMLTagForType() {\n    const { type } = this.props;\n    if (type === 'select' || type === 'textarea') { return type; }\n    return 'input';\n  }\n\n  getClassNameForType() {\n    switch (this.props.type) {\n      case 'file':\n        return 'form-control-file';\n      case 'checkbox':\n      case 'radio':\n        return 'form-check-input';\n      default:\n        return 'form-control';\n    }\n  }\n\n  setRef(forwardedRef) {\n    // In production just return the optional forwardedRef\n    if (process.env.NODE_ENV !== 'development') { return forwardedRef; }\n\n    return (element) => {\n      if (forwardedRef) { forwardedRef.current = element; } // eslint-disable-line no-param-reassign\n      this.inputEl = element;\n    };\n  }\n\n  checkHasLabel() {\n    if (this.inputEl.labels.length > 0) { return; }\n    if (this.inputEl.getAttribute('aria-label') !== null) { return; }\n    if (this.inputEl.getAttribute('aria-labelledby') !== null) { return; }\n\n    if (console) {\n      // eslint-disable-next-line no-console\n      console.warn('Input[a11y]: There is no associated label for this Input');\n    }\n  }\n\n  renderOptions(options) {\n    return options.map((option) => {\n      const {\n        value,\n        label,\n        group,\n        ...attributes\n      } = option;\n\n      if (group) {\n        return (\n          <optgroup key={`optgroup-${label}`} label={label} {...attributes}>\n            {this.renderOptions(group)}\n          </optgroup>\n        );\n      }\n      return (\n        <option key={value} value={value} {...attributes}>\n          {label}\n        </option>\n      );\n    }, this);\n  }\n\n  render() {\n    const {\n      type,\n      className,\n      options,\n      forwardedRef, // eslint-disable-line react/prop-types\n      ...attributes // eslint-disable-line react/prop-types\n    } = this.props;\n\n    const htmlTag = this.getHTMLTagForType();\n    const htmlProps = {\n      className: classNames(this.getClassNameForType(), className),\n      type: htmlTag === 'input' ? type : undefined,\n      ...attributes,\n      ref: this.setRef(forwardedRef),\n    };\n    const htmlChildren = type === 'select' ? this.renderOptions(options) : null;\n\n    return React.createElement(htmlTag, htmlProps, htmlChildren);\n  }\n}\n\nInput.propTypes = {\n  /** specifies the type of component.\n   * One of select, textarea, or any valid type for an html input tag. */\n  type: PropTypes.oneOf([\n    'textarea',\n    'select',\n    'checkbox',\n    'color',\n    'date',\n    'datetime',\n    'datetime-local',\n    'email',\n    'file',\n    'hidden',\n    'image',\n    'month',\n    'number',\n    'password',\n    'radio',\n    'range',\n    'reset',\n    'search',\n    'submit',\n    'tel',\n    'text',\n    'time',\n    'url',\n    'week',\n  ]).isRequired,\n  /** specifies the className in addition to a bootstrap class name. */\n  className: PropTypes.string,\n  /** should be used to specify the options of an Input of type select */\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    disabled: PropTypes.bool,\n    group: PropTypes.arrayOf(PropTypes.shape({\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      disabled: PropTypes.bool,\n    })),\n  })),\n};\n\nInput.defaultProps = {\n  className: undefined,\n  options: [],\n};\n\n// eslint-disable-next-line react/no-multi-comp\nconst InputWithRefForwarding = React.forwardRef((props, ref) => (\n  <Input forwardedRef={ref} {...props} />\n));\n\nexport default InputWithRefForwarding;\n"],"mappings":"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"}