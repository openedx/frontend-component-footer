{"version":3,"file":"index.js","names":["React","PropTypes","asInput","withDeprecatedProps","DEPR_TYPES","Select","props","options","map","option","i","section","groupOpts","opt","j","getOption","label","className","inputRef","others","getOptions","disabled","value","Component","propTypes","string","oneOfType","func","shape","current","instanceOf","element","arrayOf","isRequired","defaultProps","undefined","InputSelect","deprType","FORMAT","expect","transform","Array","isArray","join","message"],"sources":["../../src/InputSelect/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport asInput from '../asInput';\nimport withDeprecatedProps, { DEPR_TYPES } from '../withDeprecatedProps';\n\nclass Select extends React.Component {\n  static getOption(option, i) {\n    const { disabled } = option;\n    let { label, value } = option;\n\n    if (typeof option === 'string') {\n      label = option;\n      value = option;\n    }\n\n    return (\n      <option\n        key={`option-${i}`}\n        value={value}\n        disabled={disabled}\n      >\n        {label}\n      </option>\n    );\n  }\n\n  getOptions() {\n    return this.props.options.map((option, i) => {\n      let section;\n      if (option.options) {\n        const groupOpts = option.options.map((opt, j) => Select.getOption(opt, j));\n        section = (\n          <optgroup label={option.label} key={option.label}>\n            {groupOpts}\n          </optgroup>\n        );\n      } else {\n        section = Select.getOption(option, i);\n      }\n      return section;\n    });\n  }\n\n  render() {\n    const {\n      className,\n      inputRef,\n      ...others\n    } = this.props;\n    const options = this.getOptions();\n\n    return (\n      <select\n        {...others}\n        className={className}\n        type=\"select\"\n        ref={inputRef}\n      >\n        {options}\n      </select>\n    );\n  }\n}\n\nSelect.propTypes = {\n  className: PropTypes.string,\n  inputRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]),\n  options: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.arrayOf(PropTypes.shape({})),\n  ]).isRequired,\n};\n\nSelect.defaultProps = {\n  className: undefined,\n  inputRef: undefined,\n};\n\nconst InputSelect = asInput(withDeprecatedProps(Select, 'InputSelect', {\n  className: {\n    deprType: DEPR_TYPES.FORMAT,\n    expect: value => typeof value === 'string',\n    transform: value => (Array.isArray(value) ? value.join(' ') : value),\n    message: 'It should be a string.',\n  },\n}));\n\nexport default InputSelect;\n"],"mappings":"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"}