{"version":3,"file":"ModalLayer.js","names":["React","classNames","PropTypes","FocusOn","Portal","ModalContextProvider","ModalBackdrop","onClick","propTypes","func","defaultProps","undefined","ModalContentContainer","children","node","ModalLayer","onClose","isOpen","isBlocking","zIndex","onClickOutside","isRequired","bool","number"],"sources":["../../src/Modal/ModalLayer.jsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { FocusOn } from 'react-focus-on';\nimport Portal from './Portal';\nimport { ModalContextProvider } from './ModalContext';\n\n// istanbul ignore next\nconst ModalBackdrop = ({ onClick }) => (\n\n  // Focus lock is handling the keyboard eventfor us. Though adding a role=\"button\"\n  // would be appropriate, modal dialogs provide their own close button and this\n  // would create a duplicative control.\n  // eslint-disable-next-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events\n  <div className=\"pgn__modal-backdrop\" onClick={onClick} />\n);\n\nModalBackdrop.propTypes = {\n  onClick: PropTypes.func,\n};\n\nModalBackdrop.defaultProps = {\n  onClick: undefined,\n};\n\n// istanbul ignore next\nconst ModalContentContainer = ({ children }) => (\n  <div className=\"pgn__modal-content-container\">{children}</div>\n);\n\nModalContentContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nModalContentContainer.defaultProps = {\n  children: null,\n};\n\n/**\n * The ModalLayer should be used for any component that wishes to engage the user\n * in a \"mode\" where a layer on top of the application is interactive while the\n * rest of the application is made non-interactive. The assumption made by this\n * component is that if a modal object is visible then it is \"enabled\"\n */\nconst ModalLayer = ({\n  children, onClose, isOpen, isBlocking, zIndex,\n}) => {\n  if (!isOpen) {\n    return null;\n  }\n\n  const onClickOutside = !isBlocking ? onClose : null;\n\n  return (\n    <ModalContextProvider onClose={onClose} isOpen={isOpen} isBlocking={isBlocking}>\n      <Portal>\n        <FocusOn\n          allowPinchZoom\n          scrollLock\n          enabled={isOpen}\n          onEscapeKey={onClose}\n          onClickOutside={onClickOutside}\n          className={classNames(\n            'pgn__modal-layer',\n            zIndex ? `zindex-${zIndex}` : '',\n          )}\n        >\n          <ModalContentContainer>\n            <ModalBackdrop onClick={onClickOutside} />\n            {children}\n          </ModalContentContainer>\n        </FocusOn>\n      </Portal>\n    </ModalContextProvider>\n  );\n};\n\nModalLayer.propTypes = {\n  /** Specifies the contents of the modal */\n  children: PropTypes.node.isRequired,\n  /** A callback function for when the modal is dismissed */\n  onClose: PropTypes.func.isRequired,\n  /** Is the modal dialog open or closed */\n  isOpen: PropTypes.bool.isRequired,\n  /** Prevent clicking on the backdrop to close the modal */\n  isBlocking: PropTypes.bool,\n  zIndex: PropTypes.number,\n};\n\nModalLayer.defaultProps = {\n  isBlocking: false,\n  zIndex: undefined,\n};\n\nexport { ModalBackdrop, ModalContentContainer };\nexport default ModalLayer;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,oBAAT,QAAqC,gBAArC,C,CAEA;;AACA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB;EAAA,IAAGC,OAAH,QAAGA,OAAH;EAAA;IAAA;IAEpB;IACA;IACA;IACA;IACA;MAAK,SAAS,EAAC,qBAAf;MAAqC,OAAO,EAAEA;IAA9C;EANoB;AAAA,CAAtB;;AASAD,aAAa,CAACE,SAAd,GAA0B;EACxBD,OAAO,EAAEL,SAAS,CAACO;AADK,CAA1B;AAIAH,aAAa,CAACI,YAAd,GAA6B;EAC3BH,OAAO,EAAEI;AADkB,CAA7B,C,CAIA;;AACA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB;EAAA,IAAGC,QAAH,SAAGA,QAAH;EAAA,oBAC5B;IAAK,SAAS,EAAC;EAAf,GAA+CA,QAA/C,CAD4B;AAAA,CAA9B;;AAIAD,qBAAqB,CAACJ,SAAtB,GAAkC;EAChCK,QAAQ,EAAEX,SAAS,CAACY;AADY,CAAlC;AAIAF,qBAAqB,CAACF,YAAtB,GAAqC;EACnCG,QAAQ,EAAE;AADyB,CAArC;AAIA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAME,UAAU,GAAG,SAAbA,UAAa,QAEb;EAAA,IADJF,QACI,SADJA,QACI;EAAA,IADMG,OACN,SADMA,OACN;EAAA,IADeC,MACf,SADeA,MACf;EAAA,IADuBC,UACvB,SADuBA,UACvB;EAAA,IADmCC,MACnC,SADmCA,MACnC;;EACJ,IAAI,CAACF,MAAL,EAAa;IACX,OAAO,IAAP;EACD;;EAED,IAAMG,cAAc,GAAG,CAACF,UAAD,GAAcF,OAAd,GAAwB,IAA/C;EAEA,oBACE,oBAAC,oBAAD;IAAsB,OAAO,EAAEA,OAA/B;IAAwC,MAAM,EAAEC,MAAhD;IAAwD,UAAU,EAAEC;EAApE,gBACE,oBAAC,MAAD,qBACE,oBAAC,OAAD;IACE,cAAc,MADhB;IAEE,UAAU,MAFZ;IAGE,OAAO,EAAED,MAHX;IAIE,WAAW,EAAED,OAJf;IAKE,cAAc,EAAEI,cALlB;IAME,SAAS,EAAEnB,UAAU,CACnB,kBADmB,EAEnBkB,MAAM,oBAAaA,MAAb,IAAwB,EAFX;EANvB,gBAWE,oBAAC,qBAAD,qBACE,oBAAC,aAAD;IAAe,OAAO,EAAEC;EAAxB,EADF,EAEGP,QAFH,CAXF,CADF,CADF,CADF;AAsBD,CA/BD;;AAiCAE,UAAU,CAACP,SAAX,GAAuB;EACrB;EACAK,QAAQ,EAAEX,SAAS,CAACY,IAAV,CAAeO,UAFJ;;EAGrB;EACAL,OAAO,EAAEd,SAAS,CAACO,IAAV,CAAeY,UAJH;;EAKrB;EACAJ,MAAM,EAAEf,SAAS,CAACoB,IAAV,CAAeD,UANF;;EAOrB;EACAH,UAAU,EAAEhB,SAAS,CAACoB,IARD;EASrBH,MAAM,EAAEjB,SAAS,CAACqB;AATG,CAAvB;AAYAR,UAAU,CAACL,YAAX,GAA0B;EACxBQ,UAAU,EAAE,KADY;EAExBC,MAAM,EAAER;AAFgB,CAA1B;AAKA,SAASL,aAAT,EAAwBM,qBAAxB;AACA,eAAeG,UAAf"}