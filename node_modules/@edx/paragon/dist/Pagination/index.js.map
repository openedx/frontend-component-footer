{"version":3,"file":"index.js","names":["classNames","PropTypes","React","MediaQuery","greaterThan","Button","Dropdown","IconButton","Icon","breakpoints","newId","ELLIPSIS","getPaginationRange","ChevronLeft","ChevronRight","ArrowBackIos","ArrowForwardIos","PAGINATION_BUTTON_LABEL_PREV","PAGINATION_BUTTON_LABEL_NEXT","PAGINATION_BUTTON_LABEL_PAGE","PAGINATION_BUTTON_LABEL_CURRENT_PAGE","PAGINATION_BUTTON_LABEL_PAGE_OF_COUNT","PAGINATION_BUTTON_ICON_BUTTON_NEXT_ALT","PAGINATION_BUTTON_ICON_BUTTON_PREV_ALT","VARIANTS","default","secondary","reduced","minimal","ReducedPagination","currentPage","pageCount","handlePageSelect","Array","keys","map","pageNum","Pagination","props","previousButtonRef","nextButtonRef","pageRefs","state","pageButtonSelected","bind","nextProps","nextState","prevProps","prevState","currentPageRef","focus","setPageButtonSelectedState","setState","page","onPageSelect","value","buttonLabels","active","ariaLabel","element","toString","pageOfCount","label","icons","variant","size","isFirstPage","previousPage","iconSize","previous","disabled","undefined","handlePreviousNextButtonClick","leftIcon","isLastPage","nextPage","next","rightIcon","description","maxPagesDisplayed","pages","currentIndex","count","length","requireFirstAndLastPages","pageIndex","renderEllipsisButton","renderPageButton","renderPreviousButton","renderNextButton","invertColors","paginationLabel","className","renderScreenReaderSection","extraSmall","maxWidth","renderPageOfCountButton","small","minWidth","renderPageButtons","renderReducedPagination","renderMinimalPaginations","Component","propTypes","func","isRequired","number","string","shape","node","oneOf","bool","defaultProps","Reduced"],"sources":["../../src/Pagination/index.jsx"],"sourcesContent":["/* eslint-disable max-len */\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport MediaQuery from 'react-responsive';\n\nimport { greaterThan } from '../utils/propTypes';\nimport { Button, Dropdown, IconButton } from '..';\nimport Icon from '../Icon';\nimport breakpoints from '../utils/breakpoints';\nimport newId from '../utils/newId';\nimport { ELLIPSIS } from './constants';\nimport getPaginationRange from './getPaginationRange';\nimport {\n  ChevronLeft, ChevronRight, ArrowBackIos, ArrowForwardIos,\n} from '../../icons';\n\nexport const PAGINATION_BUTTON_LABEL_PREV = 'Previous';\nexport const PAGINATION_BUTTON_LABEL_NEXT = 'Next';\nexport const PAGINATION_BUTTON_LABEL_PAGE = 'Page';\nexport const PAGINATION_BUTTON_LABEL_CURRENT_PAGE = 'Current Page';\nexport const PAGINATION_BUTTON_LABEL_PAGE_OF_COUNT = 'of';\nexport const PAGINATION_BUTTON_ICON_BUTTON_NEXT_ALT = 'Go to next page';\nexport const PAGINATION_BUTTON_ICON_BUTTON_PREV_ALT = 'Go to previous page';\n\nconst VARIANTS = {\n  default: 'default',\n  secondary: 'secondary',\n  reduced: 'reduced',\n  minimal: 'minimal',\n};\n\nconst ReducedPagination = ({ currentPage, pageCount, handlePageSelect }) => (\n  <Dropdown>\n    <Dropdown.Toggle variant=\"tertiary\" id=\"Pagination dropdown\">\n      {currentPage} of {pageCount}\n    </Dropdown.Toggle>\n    <Dropdown.Menu className=\"pgn__reduced-pagination-dropdown\">\n      {[...Array(pageCount).keys()].map(pageNum => (\n        <Dropdown.Item onClick={() => handlePageSelect(pageNum + 1)} key={pageNum}>\n          {pageNum + 1}\n        </Dropdown.Item>\n      ))}\n    </Dropdown.Menu>\n  </Dropdown>\n);\n\nclass Pagination extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.previousButtonRef = null;\n    this.nextButtonRef = null;\n\n    this.pageRefs = {};\n\n    this.state = {\n      currentPage: this.props.currentPage,\n      pageButtonSelected: false,\n    };\n\n    this.handlePageSelect = this.handlePageSelect.bind(this);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Update only when the props and currentPage state changes to avoid re-render\n    // if only the pageButtonSelected state is changed.\n    return nextProps !== this.props || nextState.currentPage !== this.state.currentPage;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage, pageButtonSelected } = this.state;\n    const currentPageRef = this.pageRefs[currentPage];\n\n    if (currentPageRef && pageButtonSelected) {\n      currentPageRef.focus();\n      this.setPageButtonSelectedState(false);\n    }\n    /* eslint-disable react/no-did-update-set-state */\n    if (\n      this.state.currentPage === prevState.currentPage\n      && (this.props.currentPage !== prevProps.currentPage\n      || this.props.currentPage !== this.state.currentPage)\n    ) {\n      this.setState({\n        currentPage: this.props.currentPage,\n      });\n    }\n  }\n\n  handlePageSelect(page) {\n    if (page !== this.state.currentPage) {\n      this.setState({\n        currentPage: page,\n        pageButtonSelected: true,\n      });\n      this.props.onPageSelect(page);\n    }\n  }\n\n  handlePreviousNextButtonClick(page) {\n    const { pageCount } = this.props;\n\n    if (page === 1) {\n      this.nextButtonRef.focus();\n    } else if (page === pageCount) {\n      this.previousButtonRef.focus();\n    }\n    this.setState({ currentPage: page });\n    this.props.onPageSelect(page);\n  }\n\n  setPageButtonSelectedState(value) {\n    this.setState({ pageButtonSelected: value });\n  }\n\n  renderEllipsisButton() {\n    return (\n      <li\n        className={classNames(['page-item', 'disabled'])}\n        key={newId('pagination-ellipsis-')}\n      >\n        <span\n          className={classNames([\n            'btn',\n            'page-link',\n            'ml-0',\n            'border-0',\n          ])}\n        >\n          ...\n        </span>\n      </li>\n    );\n  }\n\n  renderPageButton(page) {\n    const { buttonLabels } = this.props;\n    const active = page === this.state.currentPage || null;\n\n    let ariaLabel = `${buttonLabels.page} ${page}`;\n    if (active) {\n      ariaLabel += `, ${buttonLabels.currentPage}`;\n    }\n\n    return (\n      <li\n        className={classNames([\n          'page-item',\n          {\n            active,\n          },\n        ])}\n        key={page}\n      >\n        <Button\n          className=\"page-link\"\n          aria-label={ariaLabel}\n          ref={(element) => { this.pageRefs[page] = element; }}\n          onClick={() => { this.handlePageSelect(page); }}\n        >\n          {page.toString()}\n        </Button>\n      </li>\n    );\n  }\n\n  renderPageOfCountButton() {\n    const { currentPage } = this.state;\n    const { pageCount, buttonLabels } = this.props;\n\n    const ariaLabel = `${buttonLabels.page} ${currentPage}, ${buttonLabels.currentPage}, ${buttonLabels.pageOfCount} ${pageCount}`;\n\n    const label = (\n      <span>\n        {`${currentPage} `}\n        {buttonLabels.pageOfCount}\n        {` ${pageCount}`}\n      </span>\n    );\n\n    return (\n      <li\n        className={classNames(['page-item', 'disabled'])}\n        key={currentPage}\n      >\n        <span\n          className={classNames([\n            'btn',\n            'page-link',\n            'mx-2',\n            'border-0',\n          ])}\n          aria-label={ariaLabel}\n        >\n          {label}\n        </span>\n      </li>\n    );\n  }\n\n  renderPreviousButton() {\n    const {\n      buttonLabels, icons, variant, size,\n    } = this.props;\n    const { currentPage } = this.state;\n    const isFirstPage = currentPage === 1;\n    const previousPage = isFirstPage ? null : currentPage - 1;\n    const iconSize = (variant !== VARIANTS.reduced && size !== 'small') || variant === VARIANTS.minimal;\n\n    let ariaLabel = `${buttonLabels.previous}`;\n    if (previousPage) {\n      ariaLabel += `, ${buttonLabels.page} ${previousPage}`;\n    }\n\n    return (\n      <li\n        className={classNames(\n          'page-item',\n          {\n            disabled: isFirstPage,\n          },\n        )}\n      >\n        {\n          variant === VARIANTS.default\n            ? (\n              <Button\n                className=\"previous page-link\"\n                aria-label={ariaLabel}\n                tabIndex={isFirstPage ? '-1' : undefined}\n                onClick={() => { this.handlePreviousNextButtonClick(previousPage); }}\n                ref={(element) => { this.previousButtonRef = element; }}\n                disabled={isFirstPage}\n              >\n                <div>\n                  {icons.leftIcon}\n                  {variant === VARIANTS.default ? buttonLabels.previous : null}\n                </div>\n              </Button>\n            )\n            : (\n              <IconButton\n                src={iconSize ? ArrowBackIos : ChevronLeft}\n                iconAs={Icon}\n                className=\"previous page-link\"\n                aria-label={ariaLabel}\n                tabIndex={isFirstPage ? '-1' : undefined}\n                onClick={() => { this.handlePreviousNextButtonClick(previousPage); }}\n                ref={(element) => { this.previousButtonRef = element; }}\n                disabled={isFirstPage}\n                alt={PAGINATION_BUTTON_ICON_BUTTON_PREV_ALT}\n              />\n            )\n        }\n      </li>\n    );\n  }\n\n  renderNextButton() {\n    const {\n      buttonLabels, pageCount, icons, variant, size,\n    } = this.props;\n    const { currentPage } = this.state;\n    const isLastPage = currentPage === pageCount;\n    const nextPage = isLastPage ? null : currentPage + 1;\n    const iconSize = (variant !== VARIANTS.reduced && size !== 'small') || variant === VARIANTS.minimal;\n\n    let ariaLabel = `${buttonLabels.next}`;\n    if (nextPage) {\n      ariaLabel += `, ${buttonLabels.page} ${nextPage}`;\n    }\n\n    return (\n      <li\n        className={classNames(\n          'page-item',\n          {\n            disabled: isLastPage,\n          },\n        )}\n      >\n        {variant === VARIANTS.default ? (\n          <Button\n            className=\"next page-link\"\n            aria-label={ariaLabel}\n            tabIndex={isLastPage ? '-1' : undefined}\n            onClick={() => { this.handlePreviousNextButtonClick(nextPage); }}\n            ref={(element) => { this.nextButtonRef = element; }}\n            disabled={isLastPage}\n          >\n            <div>\n              {variant === VARIANTS.default ? buttonLabels.next : null}\n              {icons.rightIcon}\n            </div>\n          </Button>\n        ) : (\n          <IconButton\n            src={iconSize ? ArrowForwardIos : ChevronRight}\n            iconAs={Icon}\n            className=\"next page-link\"\n            aria-label={ariaLabel}\n            tabIndex={isLastPage ? '-1' : undefined}\n            onClick={() => { this.handlePreviousNextButtonClick(nextPage); }}\n            ref={(element) => { this.nextButtonRef = element; }}\n            disabled={isLastPage}\n            alt={PAGINATION_BUTTON_ICON_BUTTON_NEXT_ALT}\n          />\n        )}\n      </li>\n    );\n  }\n\n  renderScreenReaderSection() {\n    const { currentPage } = this.state;\n    const { buttonLabels, pageCount } = this.props;\n\n    const description = `${buttonLabels.page} ${currentPage}, ${buttonLabels.currentPage}, ${buttonLabels.pageOfCount} ${pageCount}`;\n\n    return (\n      <div\n        className=\"sr-only\"\n        aria-live=\"polite\"\n        aria-relevant=\"text\"\n        aria-atomic\n      >\n        {description}\n      </div>\n    );\n  }\n\n  renderPageButtons() {\n    const { currentPage } = this.state;\n    const { pageCount, maxPagesDisplayed } = this.props;\n\n    const pages = getPaginationRange({\n      currentIndex: currentPage,\n      count: pageCount,\n      length: maxPagesDisplayed,\n      requireFirstAndLastPages: true,\n    });\n\n    return pages.map((pageIndex) => {\n      if (pageIndex === ELLIPSIS) {\n        return this.renderEllipsisButton();\n      }\n      return this.renderPageButton(pageIndex + 1);\n    });\n  }\n\n  renderReducedPagination() {\n    const { currentPage } = this.state;\n    const { pageCount } = this.props;\n\n    return (\n      <ul className=\"pagination\">\n        {this.renderPreviousButton()}\n        <ReducedPagination currentPage={currentPage} pageCount={pageCount} handlePageSelect={this.handlePageSelect} />\n        {this.renderNextButton()}\n      </ul>\n    );\n  }\n\n  renderMinimalPaginations() {\n    return (\n      <ul className=\"pagination\">\n        {this.renderPreviousButton()}\n        {this.renderNextButton()}\n      </ul>\n    );\n  }\n\n  render() {\n    const { variant, invertColors, size } = this.props;\n    return (\n      <nav\n        aria-label={this.props.paginationLabel}\n        className={classNames(this.props.className, {\n          [`pagination-${variant}`]: variant,\n          'pagination-inverse': invertColors,\n          'pagination-small': size !== VARIANTS.default,\n        })}\n      >\n        {this.renderScreenReaderSection()}\n        {variant === VARIANTS.default || variant === VARIANTS.secondary\n          ? (\n            <ul className=\"pagination\">\n              {this.renderPreviousButton()}\n              <MediaQuery maxWidth={breakpoints.extraSmall.maxWidth}>\n                {this.renderPageOfCountButton()}\n              </MediaQuery>\n              <MediaQuery minWidth={breakpoints.small.minWidth}>\n                {this.renderPageButtons()}\n              </MediaQuery>\n              {this.renderNextButton()}\n            </ul>\n          )\n          : null}\n        {variant === VARIANTS.reduced ? this.renderReducedPagination() : null}\n        {variant === VARIANTS.minimal ? this.renderMinimalPaginations() : null}\n      </nav>\n    );\n  }\n}\n\nPagination.propTypes = {\n  /**\n   * Specifies a callback function that is executed when the\n   * user selects a page button or the `Previous`/`Next` buttons. For example:\n   *\n   * ```jsx\n   *  <Pagination onPageSelect={(pageNumber) => { console.log(pageNumber); } />\n   * ```\n   */\n  onPageSelect: PropTypes.func.isRequired,\n  /** Specifies the total number of pages in the `Pagination` component. */\n  pageCount: PropTypes.number.isRequired,\n  /** Specifies the `aria-label` for the `<nav>` element that wraps the pagination button list. */\n  paginationLabel: PropTypes.string.isRequired,\n  /**\n   * Specifies the labels to use for the `Previous`/`Next`\n   * buttons as well as the various parts of `aria-label`\n   * on the page buttons for accessibility. All button labels\n   * accept both string or elements. The button label options are as follows:\n   *\n   * `previous`: Text for the `Previous` button;\n   *\n   * `next`: Text for the `Next` button;\n   *\n   * `page`: Text in the `aria-label` on page buttons to describe the button (e.g., \"**Page** 1\");\n   *\n   * `currentPage`: Text to depict the selected page in the `aria-label`\n   * on page buttons (e.g., \"Page 1, **Current Page**\");\n   *\n   * `pageOfCount`: Text that separates the current page and total page count\n   * for the mobile UI (e.g., \"Page 1 **of** 20\").\n   *\n   * The default is:\n   * ```javascript\n   * {\n   *   previous: 'Previous',\n   *   next: 'Next',\n   *   page: 'Page',\n   *   currentPage: 'Current Page',\n   *   pageOfCount: 'of',\n   * }\n   * ```\n   */\n  buttonLabels: PropTypes.shape({\n    previous: PropTypes.string,\n    next: PropTypes.string,\n    page: PropTypes.string,\n    currentPage: PropTypes.string,\n    pageOfCount: PropTypes.string,\n  }),\n  /** Specifies any class name(s) for the `Pagination` component. The default is an empty string. */\n  className: PropTypes.string,\n  /** specifies the page that the `Pagination` component will automatically select. The default is `1`. */\n  currentPage: PropTypes.number,\n  /**\n   * Specifies the number of page buttons to display in between the `Previous`\n   * and `Next` buttons. This number also includes any ellipses in the total count.\n   * Also, to ensure that at least one clickable page button is shown when both ellipses\n   * are displayed, this value must be greater than `4`. The default is `7`.\n   */\n  maxPagesDisplayed: greaterThan(4),\n  /**\n   * Specifies icons used to indicate previous and next page. Can be an element,\n   * string, symbol, etc. Default is chevrons rendered using fa-css.\n   */\n  icons: PropTypes.shape({\n    leftIcon: PropTypes.node,\n    rightIcon: PropTypes.node,\n  }),\n  variant: PropTypes.oneOf(['default', 'secondary', 'reduced', 'minimal']),\n  invertColors: PropTypes.bool,\n  size: PropTypes.oneOf(['default', 'small']),\n};\n\nPagination.defaultProps = {\n  icons: {\n    leftIcon: <Icon src={ChevronLeft} />,\n    rightIcon: <Icon src={ChevronRight} />,\n  },\n  buttonLabels: {\n    previous: PAGINATION_BUTTON_LABEL_PREV,\n    next: PAGINATION_BUTTON_LABEL_NEXT,\n    page: PAGINATION_BUTTON_LABEL_PAGE,\n    currentPage: PAGINATION_BUTTON_LABEL_CURRENT_PAGE,\n    pageOfCount: PAGINATION_BUTTON_LABEL_PAGE_OF_COUNT,\n  },\n  className: undefined,\n  currentPage: 1,\n  maxPagesDisplayed: 7,\n  variant: 'default',\n  invertColors: false,\n  size: 'default',\n};\n\nReducedPagination.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  pageCount: PropTypes.number.isRequired,\n  handlePageSelect: PropTypes.func.isRequired,\n};\n\nPagination.Reduced = ReducedPagination;\n\nexport default Pagination;\n"],"mappings":"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"}