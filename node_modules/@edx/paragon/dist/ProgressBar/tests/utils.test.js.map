{"version":3,"file":"utils.test.js","names":["placeInfoAtZero","ANNOTATION_CLASS","ref","current","style","marginLeft","children","className","getBoundingClientRect","width","describe","it","previousValue","changedValue","expect","not","toEqual","i","length","elementParams","includes","expectedMarginLeft","actualMarginLeft","wrongRef1","wrongRef2"],"sources":["../../../src/ProgressBar/tests/utils.test.js"],"sourcesContent":["import { placeInfoAtZero } from '../utils';\nimport { ANNOTATION_CLASS } from '../index';\n\nconst ref = {\n  current: {\n    style: {\n      marginLeft: '',\n    },\n    children: [\n      {\n        className: `${ANNOTATION_CLASS} someClass`,\n        getBoundingClientRect: () => ({\n          width: 24.58123,\n        }),\n      },\n      {\n        className: 'anotherClass',\n        getBoundingClientRect: () => ({\n          width: 55.96844,\n        }),\n      },\n    ],\n  },\n};\n\ndescribe('utils', () => {\n  describe('placeInfoAtZero', () => {\n    it('changes left margin of the ref.current.style', () => {\n      const previousValue = ref.current.style.marginLeft;\n      placeInfoAtZero(ref);\n      const changedValue = ref.current.style.marginLeft;\n      expect(previousValue).not.toEqual(changedValue);\n    });\n    it('correctly calculates left margin when ref is passed', () => {\n      placeInfoAtZero(ref);\n\n      const { children } = ref.current;\n      let marginLeft = 0.0;\n      for (let i = 0; i < children.length || 0; i++) {\n        const elementParams = children[i].getBoundingClientRect();\n        if (children[i].className.includes(ANNOTATION_CLASS)) {\n          marginLeft += elementParams.width / 2;\n        } else {\n          marginLeft += 0;\n        }\n      }\n      const expectedMarginLeft = `${-marginLeft}px`;\n      const actualMarginLeft = ref.current.style.marginLeft;\n\n      expect(actualMarginLeft).toEqual(expectedMarginLeft);\n    });\n    it('correctly calculates left margin when annotationOnly equals to true', () => {\n      placeInfoAtZero(ref, false);\n\n      const { children } = ref.current;\n      let marginLeft = 0.0;\n      for (let i = 0; i < children.length || 0; i++) {\n        const elementParams = children[i].getBoundingClientRect();\n        if (children[i].className.includes(ANNOTATION_CLASS)) {\n          marginLeft += elementParams.width / 2;\n        } else {\n          marginLeft += elementParams.width;\n        }\n      }\n      const expectedMarginLeft = `${-marginLeft}px`;\n      const actualMarginLeft = ref.current.style.marginLeft;\n\n      expect(actualMarginLeft).toEqual(expectedMarginLeft);\n    });\n    it('returns false if reference is wrong', () => {\n      const wrongRef1 = {};\n      const wrongRef2 = { current: {} };\n      expect(placeInfoAtZero(wrongRef1)).toEqual(false);\n      expect(placeInfoAtZero(wrongRef2)).toEqual(false);\n    });\n    it('returns true if reference is wrong', () => {\n      expect(placeInfoAtZero(ref)).toEqual(true);\n    });\n  });\n});\n"],"mappings":"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"}