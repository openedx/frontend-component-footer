{"version":3,"file":"index.js","names":["React","useRef","useEffect","PropTypes","classNames","SelectableBoxSet","useCheckboxSetContext","useRadioSetContext","getInputType","INPUT_TYPES","SelectableBox","forwardRef","ref","type","value","checked","children","isIndeterminate","isInvalid","onClick","onFocus","inputHidden","className","props","inputType","radioValue","checkboxValues","isChecked","includes","inputRef","input","createElement","hidden","tabIndex","onChange","current","onclick","click","propTypes","node","isRequired","oneOfType","string","number","bool","oneOf","func","defaultProps","undefined","Set"],"sources":["../../src/SelectableBox/index.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport SelectableBoxSet from './SelectableBoxSet';\nimport { useCheckboxSetContext } from '../Form/FormCheckboxSetContext';\nimport { useRadioSetContext } from '../Form/FormRadioSetContext';\nimport { getInputType } from './utils';\n\nconst INPUT_TYPES = [\n  'radio',\n  'checkbox',\n];\n\nconst SelectableBox = React.forwardRef(({\n  type,\n  value,\n  checked,\n  children,\n  isIndeterminate,\n  isInvalid,\n  onClick,\n  onFocus,\n  inputHidden,\n  className,\n  ...props\n}, ref) => {\n  const inputType = getInputType('SelectableBox', type);\n  const { value: radioValue } = useRadioSetContext();\n  const { value: checkboxValues = [] } = useCheckboxSetContext();\n\n  const isChecked = () => {\n    switch (type) {\n      case 'radio':\n        return radioValue === value;\n      case 'checkbox':\n        return checkboxValues.includes(value);\n      default:\n        return radioValue === value;\n    }\n  };\n\n  const inputRef = useRef(null);\n  const input = React.createElement(inputType, {\n    value,\n    checked,\n    hidden: inputHidden,\n    ref: inputRef,\n    tabIndex: -1,\n    onChange: () => {},\n    ...(type === 'checkbox' ? { ...props, isIndeterminate } : { ...props }),\n  }, null);\n\n  useEffect(() => {\n    if (onClick && inputRef.current) {\n      inputRef.current.onclick = () => onClick(inputRef.current);\n    }\n  }, [onClick]);\n\n  return (\n    <div\n      role=\"button\"\n      onKeyPress={() => inputRef.current.click()}\n      onClick={() => inputRef.current.click()}\n      onFocus={onFocus}\n      className={classNames('pgn__selectable_box', className, {\n        'pgn__selectable_box-active': isChecked() || checked,\n        'pgn__selectable_box-invalid': isInvalid,\n      })}\n      tabIndex={0}\n      ref={ref}\n      {...props}\n    >\n      {input}\n      {children}\n    </div>\n  );\n});\n\nSelectableBox.propTypes = {\n  /** Content of the `SelectableBox`. */\n  children: PropTypes.node.isRequired,\n  /** A value that is passed to the input tag. */\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  /** Controls whether `SelectableBox` is checked. */\n  checked: PropTypes.bool,\n  /** Indicates the input type: checkbox or radio. */\n  type: PropTypes.oneOf(INPUT_TYPES),\n  /** Function that is called when the `SelectableBox` is clicked. */\n  onClick: PropTypes.func,\n  /** Function that is called when the `SelectableBox` is focused. */\n  onFocus: PropTypes.func,\n  /** Controls display of the input (checkbox or radio button) on the `SelectableBox`. */\n  inputHidden: PropTypes.bool,\n  /** Indicates a state for the 'checkbox' `type` when `SelectableBox` is neither checked nor unchecked. */\n  isIndeterminate: PropTypes.bool,\n  /** Adds errors styles to the `SelectableBox`. */\n  isInvalid: PropTypes.bool,\n  /** A class that is appended to the base element. */\n  className: PropTypes.string,\n};\n\nSelectableBox.defaultProps = {\n  value: undefined,\n  checked: false,\n  type: 'radio',\n  onClick: () => {},\n  onFocus: () => {},\n  inputHidden: true,\n  isIndeterminate: false,\n  isInvalid: false,\n  className: undefined,\n};\n\nSelectableBox.Set = SelectableBoxSet;\nexport default SelectableBox;\n"],"mappings":"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"}