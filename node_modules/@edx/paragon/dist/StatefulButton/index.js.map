{"version":3,"file":"index.js","names":["React","PropTypes","classNames","Button","Cancel","CheckCircleOutline","SpinnerSimple","Icon","StatefulButton","className","state","labels","icons","disabledStates","onClick","attributes","isDisabled","indexOf","icon","undefined","default","label","disabled","e","preventDefault","propTypes","string","objectOf","node","isRequired","arrayOf","func","defaultProps","pending","complete","error"],"sources":["../../src/StatefulButton/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Button } from '..';\nimport { Cancel, CheckCircleOutline, SpinnerSimple } from '../../icons';\nimport Icon from '../Icon';\n\nfunction StatefulButton({\n  className,\n  state,\n  labels,\n  icons,\n  disabledStates,\n  onClick,\n  ...attributes\n}) {\n  const isDisabled = disabledStates.indexOf(state) !== -1;\n  const icon = icons[state] !== undefined ? icons[state] : icons.default;\n  const label = labels[state] !== undefined ? labels[state] : labels.default;\n\n  return (\n    <Button\n      aria-live=\"assertive\"\n      aria-disabled={isDisabled}\n      className={classNames(\n        'pgn__stateful-btn',\n        `pgn__stateful-btn-state-${state}`,\n        className,\n        { disabled: isDisabled },\n      )}\n      onClick={(e) => {\n        // Swallow clicks if the button is disabled.\n        // We do this instead of disabling the button to prevent\n        // it from losing focus (disabled elements cannot have focus).\n        if (isDisabled) {\n          e.preventDefault();\n          return;\n        }\n\n        if (onClick) {\n          onClick(e);\n        }\n      }}\n      {...attributes}\n    >\n      <span className=\"d-flex align-items-center justify-content-center\">\n        {icon && <span className={classNames({ 'pgn__stateful-btn-icon': !!label })}>{icon}</span>}\n        {label ? <span>{label}</span> : <span className=\"sr-only\">{state}</span>}\n      </span>\n    </Button>\n  );\n}\n\nStatefulButton.propTypes = {\n  className: PropTypes.string,\n  /**\n   * Each state has:\n   * - A label (required)\n   * - An icon\n   * - an option to be disabled\n   *\n   * Control the state with the `state` prop. Example usage:\n   *\n   * ```jsx\n   * <StatefulButton\n   *   state=\"pending\"\n   *   labels={{\n   *     default: 'Download',\n   *     pending: 'Downloading',\n   *     complete: 'Downloaded',\n   *   }}\n   *   icons={{\n   *     default: <Icon className=\"fa fa-download\" />,\n   *     pending: <Icon className=\"fa fa-spinner fa-spin\" />,\n   *     complete: <Icon className=\"fa fa-check\" />,\n   *   }}\n   *   disabledStates=['pending']\n   *   className='btn-primary mr-2'\n   * />\n   * ```\n   */\n  state: PropTypes.string,\n  /** Required. Each state has a `label`. */\n  labels: PropTypes.objectOf(PropTypes.node).isRequired,\n  /** Required. Each state has an `icon`. */\n  icons: PropTypes.objectOf(PropTypes.node),\n  /** Required. Each state has a `disabledState` */\n  disabledStates: PropTypes.arrayOf(PropTypes.string),\n  /** Specifies the callback function when the button is clicked */\n  onClick: PropTypes.func,\n};\n\nStatefulButton.defaultProps = {\n  className: undefined,\n  state: 'default',\n  icons: {\n    default: undefined,\n    pending: <Icon src={SpinnerSimple} className={classNames('icon-spin')} />,\n    complete: <Icon src={CheckCircleOutline} />,\n    error: <Icon src={Cancel} />,\n  },\n  disabledStates: ['pending', 'complete'],\n  onClick: undefined,\n};\n\nexport default StatefulButton;\n"],"mappings":"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"}