{"version":3,"file":"StepperContext.js","names":["React","useCallback","useReducer","PropTypes","StepperContext","createContext","activeKey","stepsReducer","stepsState","action","newStepsState","type","filter","step","eventKey","some","map","index","sort","a","b","StepperContextProvider","children","steps","dispatch","registerStep","removeStep","getIsComplete","activeIndex","findIndex","thisIndex","propTypes","node","isRequired"],"sources":["../../src/Stepper/StepperContext.jsx"],"sourcesContent":["import React, { useCallback, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const StepperContext = React.createContext({\n  activeKey: '',\n});\n\nconst stepsReducer = (stepsState, action) => {\n  let newStepsState = [];\n  switch (action.type) {\n    case 'remove':\n      return stepsState.filter(step => step.eventKey !== action.eventKey);\n    case 'register':\n    default:\n      // If is existing step\n      if (stepsState.some(step => step.eventKey === action.step.eventKey)) {\n        newStepsState = stepsState.map(step => {\n          if (step.eventKey === action.step.eventKey) {\n            return action.step;\n          }\n          return step;\n        });\n      } else {\n        newStepsState = [...stepsState, action.step];\n      }\n\n      // If using the index prop\n      if (stepsState.some(step => step.index)) {\n        return newStepsState.sort((a, b) => (\n          a.index > b.index ? 1 : -1\n        ));\n      }\n      return newStepsState;\n  }\n};\n\nexport function StepperContextProvider({ children, activeKey }) {\n  const [steps, dispatch] = useReducer(stepsReducer, []);\n  const registerStep = useCallback((step) => dispatch({ step, type: 'register' }), []);\n  const removeStep = useCallback((eventKey) => dispatch({ eventKey, type: 'remove' }), []);\n  const getIsComplete = (eventKey) => {\n    const activeIndex = steps.findIndex(step => step.eventKey === activeKey);\n    const thisIndex = steps.findIndex(step => step.eventKey === eventKey);\n    return thisIndex < activeIndex;\n  };\n\n  return (\n    <StepperContext.Provider\n      value={{\n        activeKey,\n        registerStep,\n        steps,\n        removeStep,\n        getIsComplete,\n      }}\n    >\n      {children}\n    </StepperContext.Provider>\n  );\n}\n\nStepperContextProvider.propTypes = {\n  /** Specifies the content of the `ContextProvider`. */\n  children: PropTypes.node.isRequired,\n  /** Specifies the current step of the `Stepper`. */\n  activeKey: PropTypes.node.isRequired,\n};\n\nexport { stepsReducer };\n"],"mappings":"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"}