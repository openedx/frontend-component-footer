{"version":3,"file":"index.js","names":["React","PropTypes","classNames","newId","ValidationMessage","Variant","withDeprecatedProps","DEPR_TYPES","getDisplayName","WrappedComponent","displayName","name","inputProps","label","oneOfType","string","element","isRequired","id","value","number","dangerIconDescription","description","disabled","bool","required","onChange","func","onKeyPress","onBlur","validator","isValid","validationMessage","className","themes","arrayOf","inline","inputGroupPrepend","inputGroupAppend","type","inputRef","shape","current","instanceOf","defaultProps","undefined","asInput","inputType","labelFirst","NewComponent","props","handleChange","bind","handleBlur","handleKeyPress","renderInput","state","prevProps","updatedState","Object","keys","length","setState","event","target","checked","val","isGroupedInput","errorId","descriptionId","desc","error","status","hasDangerTheme","DANGER","INFO","describedBy","trim","addonElements","Array","isArray","map","addon","index","cloneElement","key","generateInputGroupAddonKey","prefix","indexOf","others","getAddons","getDescriptions","getLabel","renderInputGroupPrepend","renderInputGroupAppend","Component","propTypes","deprType","FORMAT","expect","transform","join","message","ariaLabel","MOVED","newName"],"sources":["../../src/asInput/index.jsx"],"sourcesContent":["/* eslint-disable react/no-unused-prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport newId from '../utils/newId';\nimport ValidationMessage from '../ValidationMessage/index';\nimport Variant from '../utils/constants';\nimport withDeprecatedProps, { DEPR_TYPES } from '../withDeprecatedProps';\n\nexport const getDisplayName = WrappedComponent => WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\nexport const inputProps = {\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  name: PropTypes.string.isRequired,\n  id: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  dangerIconDescription: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  description: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]),\n  disabled: PropTypes.bool,\n  required: PropTypes.bool,\n  onChange: PropTypes.func,\n  onKeyPress: PropTypes.func,\n  onBlur: PropTypes.func,\n  validator: PropTypes.func,\n  isValid: PropTypes.bool,\n  validationMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  className: PropTypes.string,\n  themes: PropTypes.arrayOf(PropTypes.string),\n  inline: PropTypes.bool,\n  inputGroupPrepend: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element]),\n  inputGroupAppend: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element]),\n  type: PropTypes.string,\n  inputRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]),\n};\n\nexport const defaultProps = {\n  onChange: () => {},\n  onBlur: () => {},\n  onKeyPress: () => {},\n  id: undefined,\n  value: '',\n  dangerIconDescription: '',\n  description: undefined,\n  disabled: false,\n  required: false,\n  validator: undefined,\n  isValid: true,\n  validationMessage: '',\n  className: undefined,\n  themes: [],\n  inline: false,\n  inputGroupPrepend: undefined,\n  inputGroupAppend: undefined,\n  type: undefined,\n  inputRef: undefined,\n};\n\nconst asInput = (WrappedComponent, inputType = undefined, labelFirst = true) => {\n  class NewComponent extends React.Component {\n    constructor(props) {\n      super(props);\n      this.handleChange = this.handleChange.bind(this);\n      this.handleBlur = this.handleBlur.bind(this);\n      this.handleKeyPress = this.handleKeyPress.bind(this);\n      this.renderInput = this.renderInput.bind(this);\n\n      const id = this.props.id ? this.props.id : newId('asInput');\n      const isValid = this.props.validator ? true : this.props.isValid;\n      const validationMessage = this.props.validator ? '' : this.props.validationMessage;\n      const dangerIconDescription = this.props.validator ? '' : this.props.dangerIconDescription;\n      this.state = {\n        id,\n        value: this.props.value,\n        isValid,\n        validationMessage,\n        dangerIconDescription,\n      };\n    }\n\n    /* eslint-disable react/no-did-update-set-state */\n    componentDidUpdate(prevProps) {\n      const updatedState = {};\n      if (this.props.value !== prevProps.value) {\n        updatedState.value = this.props.value;\n      }\n      if (this.props.isValid !== prevProps.isValid && !this.props.validator) {\n        updatedState.isValid = this.props.isValid;\n      }\n      if (this.props.validationMessage !== prevProps.validationMessage && !this.props.validator) {\n        updatedState.validationMessage = this.props.validationMessage;\n      }\n      if (this.props.dangerIconDescription !== prevProps.dangerIconDescription\n          && !this.props.validator) {\n        updatedState.dangerIconDescription = this.props.dangerIconDescription;\n      }\n      // If validator goes away, revert to props\n      if (this.props.validator !== prevProps.validator && !this.props.validator) {\n        updatedState.isValid = this.props.isValid;\n        updatedState.validationMessage = this.props.validationMessage;\n        updatedState.dangerIconDescription = this.props.dangerIconDescription;\n      }\n      if (Object.keys(updatedState).length > 0) {\n        this.setState(updatedState);\n      }\n    }\n\n    handleChange(event) {\n      this.setState({ value: event.target.value });\n\n      this.props.onChange(\n        event.target.type === 'checkbox' ? event.target.checked : event.target.value,\n        this.props.name,\n      );\n    }\n\n    handleKeyPress(event) {\n      this.props.onKeyPress(event, this.props.name);\n    }\n\n    handleBlur(event) {\n      const val = event.target.value;\n\n      if (this.props.validator) {\n        this.setState(this.props.validator(val));\n      }\n      this.props.onBlur(val, this.props.name);\n    }\n\n    getLabel() {\n      return (\n        // eslint-disable-next-line jsx-a11y/label-has-for\n        <label\n          id={`label-${this.state.id}`}\n          htmlFor={this.state.id}\n          className={classNames({\n            'form-check-label': this.isGroupedInput(),\n          })}\n        >\n          {this.props.label}\n        </label>\n      );\n    }\n\n    getDescriptions() {\n      // possible future work: multiple feedback msgs?\n      const errorId = `error-${this.state.id}`;\n      const descriptionId = `description-${this.state.id}`;\n      const desc = {};\n\n      // TODO: refactor this component to use Variants instead of the themes array.\n      desc.error = (\n        <ValidationMessage\n          id={errorId}\n          isValid={this.state.isValid}\n          invalidMessage={this.state.validationMessage}\n          variant={{\n            status: this.hasDangerTheme() ? Variant.status.DANGER : Variant.status.INFO,\n          }}\n          variantIconDescription={this.state.dangerIconDescription}\n        />\n      );\n      desc.describedBy = errorId;\n\n      if (this.props.description) {\n        desc.description = (\n          <small className=\"form-text\" id={descriptionId} key=\"1\">\n            {this.props.description}\n          </small>\n        );\n        desc.describedBy = `${desc.describedBy} ${descriptionId}`.trim();\n      }\n\n      return desc;\n    }\n\n    getAddons({ addonElements, type }) {\n      if (Array.isArray(addonElements)) {\n        return addonElements.map((addon, index) => React.cloneElement(\n          addon,\n          { key: this.generateInputGroupAddonKey({ prefix: type, index }) },\n        ));\n      }\n      return addonElements;\n    }\n\n    hasDangerTheme() {\n      return this.props.themes.indexOf('danger') >= 0;\n    }\n\n    isGroupedInput() {\n      switch (inputType) {\n        case 'checkbox':\n          return true;\n        default:\n          return false;\n      }\n    }\n\n    generateInputGroupAddonKey({ prefix, index }) {\n      return `${this.state.id}-${prefix}-${index}`;\n    }\n\n    renderInput(describedBy) {\n      const {\n        className,\n        inputRef,\n        type,\n        isValid,\n        // unused\n        validator,\n        themes,\n        inline,\n        inputGroupPrepend,\n        inputGroupAppend,\n        label,\n        dangerIconDescription,\n        description,\n        validationMessage,\n        ...others\n      } = this.props;\n\n      return (\n        <WrappedComponent\n          {...others}\n          id={this.state.id}\n          value={this.state.value}\n          className={classNames(\n            {\n              'form-control': !this.isGroupedInput(),\n              'form-check-input': this.isGroupedInput(),\n              'is-invalid': !this.state.isValid,\n              'is-invalid-nodanger': !this.hasDangerTheme(),\n            },\n            className,\n          )}\n          aria-describedby={describedBy}\n          aria-invalid={!isValid}\n          onChange={this.handleChange}\n          onBlur={this.handleBlur}\n          onKeyPress={this.handleKeyPress}\n          type={type}\n          inputRef={inputRef}\n        />\n      );\n    }\n\n    renderInputGroupAppend() {\n      return (\n        <div className=\"input-group-append\">\n          {this.getAddons({ type: 'append', addonElements: this.props.inputGroupAppend })}\n        </div>\n      );\n    }\n\n    renderInputGroupPrepend() {\n      return (\n        <div className=\"input-group-prepend\">\n          {this.getAddons({ type: 'prepend', addonElements: this.props.inputGroupPrepend })}\n        </div>\n      );\n    }\n\n    render() {\n      const { description, error, describedBy } = this.getDescriptions();\n      return (\n        <div className={classNames({\n          'form-group': !this.isGroupedInput(),\n          'form-inline': !this.isGroupedInput() && this.props.inline,\n          'form-check': this.isGroupedInput(),\n        })}\n        >\n          {labelFirst && this.getLabel()}\n          {this.props.inputGroupPrepend || this.props.inputGroupAppend ? (\n            <div className={classNames('input-group')}>\n              {this.renderInputGroupPrepend()}\n              {this.renderInput(describedBy)}\n              {this.renderInputGroupAppend()}\n            </div>\n          ) : this.renderInput(describedBy)}\n          {!labelFirst && this.getLabel()}\n          {error}\n          {description}\n        </div>\n      );\n    }\n  }\n\n  NewComponent.displayName = `asInput(${getDisplayName(WrappedComponent)})`;\n\n  NewComponent.propTypes = inputProps;\n\n  NewComponent.defaultProps = defaultProps;\n\n  return withDeprecatedProps(NewComponent, 'asInput', {\n    className: {\n      deprType: DEPR_TYPES.FORMAT,\n      expect: value => typeof value === 'string',\n      transform: value => (Array.isArray(value) ? value.join(' ') : value),\n      message: 'It should be a string.',\n    },\n    ariaLabel: {\n      deprType: DEPR_TYPES.MOVED,\n      newName: 'aria-label',\n    },\n  });\n};\n\nexport default asInput;\n"],"mappings":"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"}