{"version":3,"file":"useIsVisible.js","names":["useRef","useState","useEffect","useIsVisible","defaultIsVisible","sentinelRef","isVisible","setIsVisible","current","observer","IntersectionObserver","entries","forEach","isIntersecting","observe","disconnect","e","isReferenceError","ReferenceError"],"sources":["../../src/hooks/useIsVisible.jsx"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\n\nconst useIsVisible = (defaultIsVisible = true) => {\n  const sentinelRef = useRef();\n  const [isVisible, setIsVisible] = useState(defaultIsVisible);\n\n  useEffect(() => {\n    try {\n      if (sentinelRef.current) {\n        const observer = new IntersectionObserver((entries) => {\n          entries.forEach(({ isIntersecting }) => {\n            setIsVisible(isIntersecting);\n          });\n        }, {});\n        observer.observe(sentinelRef.current);\n        return () => {\n          observer.disconnect();\n        };\n      }\n    } catch (e) {\n      const isReferenceError = e instanceof ReferenceError;\n      if (!isReferenceError) {\n        throw e;\n      }\n      // Do nothing if an intersection observer can't be created.\n    }\n    return () => {};\n  }, []);\n\n  return [isVisible, sentinelRef];\n};\n\nexport default useIsVisible;\n"],"mappings":";;;;;;;;;;;;AAAA,SAASA,MAAT,EAAiBC,QAAjB,EAA2BC,SAA3B,QAA4C,OAA5C;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAA6B;EAAA,IAA5BC,gBAA4B,uEAAT,IAAS;EAChD,IAAMC,WAAW,GAAGL,MAAM,EAA1B;;EACA,gBAAkCC,QAAQ,CAACG,gBAAD,CAA1C;EAAA;EAAA,IAAOE,SAAP;EAAA,IAAkBC,YAAlB;;EAEAL,SAAS,CAAC,YAAM;IACd,IAAI;MACF,IAAIG,WAAW,CAACG,OAAhB,EAAyB;QACvB,IAAMC,QAAQ,GAAG,IAAIC,oBAAJ,CAAyB,UAACC,OAAD,EAAa;UACrDA,OAAO,CAACC,OAAR,CAAgB,gBAAwB;YAAA,IAArBC,cAAqB,QAArBA,cAAqB;YACtCN,YAAY,CAACM,cAAD,CAAZ;UACD,CAFD;QAGD,CAJgB,EAId,EAJc,CAAjB;QAKAJ,QAAQ,CAACK,OAAT,CAAiBT,WAAW,CAACG,OAA7B;QACA,OAAO,YAAM;UACXC,QAAQ,CAACM,UAAT;QACD,CAFD;MAGD;IACF,CAZD,CAYE,OAAOC,CAAP,EAAU;MACV,IAAMC,gBAAgB,GAAGD,CAAC,YAAYE,cAAtC;;MACA,IAAI,CAACD,gBAAL,EAAuB;QACrB,MAAMD,CAAN;MACD,CAJS,CAKV;;IACD;;IACD,OAAO,YAAM,CAAE,CAAf;EACD,CArBQ,EAqBN,EArBM,CAAT;EAuBA,OAAO,CAACV,SAAD,EAAYD,WAAZ,CAAP;AACD,CA5BD;;AA8BA,eAAeF,YAAf"}